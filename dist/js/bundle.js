(()=>{"use strict";function e(e){document.querySelector(e).classList.remove("show")}function t(e,t){document.querySelector(e).classList.add("show"),t&&clearInterval(t)}document.addEventListener("DOMContentLoaded",(()=>{const r=setTimeout((()=>t(".modal",r)),3e3);(function(){let e,t,r,n,o;localStorage.getItem("sex")?n=localStorage.getItem("sex"):(n="female",localStorage.setItem("sex","female")),localStorage.getItem("ratio")?o=localStorage.getItem("ratio"):(o=1.375,localStorage.setItem("ratio",1.375));const a=document.querySelector(".calculating__result span");function i(e,t){document.querySelectorAll(e).forEach((e=>{e.classList.remove(t),e.getAttribute("id")===localStorage.getItem("sex")&&e.classList.add(t),e.getAttribute("data-ratio")===localStorage.getItem("ratio")&&(e.classList.add(t),console.log(`my item ${e}`))}))}function l(e,t,r){let i;e&&t&&r?("male"===n?(i=((88.36+13.4*t+4.8*e-5.7*r)*o).toFixed(0),a.innerText=i):"female"===n&&(i=((447.6+9.2*t+3.1*e-4.3*r)*o).toFixed(0),a.innerText=i),Number.isNaN(+i)&&(a.innerText="Ошибка")):a.innerText="___"}function c(a,i){const c=document.querySelectorAll(`${a} div`);document.querySelector(a).addEventListener("click",(a=>{a.target.getAttribute("data-ratio")?(o=a.target.getAttribute("data-ratio"),localStorage.setItem("ratio",a.target.getAttribute("data-ratio")),l(e,t,r),c.forEach((e=>{e.classList.remove(i)})),a.target.classList.add(i),l(e,t,r)):"male"!==a.target.getAttribute("id")&&"female"!==a.target.getAttribute("id")||(n=a.target.getAttribute("id"),a.target.classList.add(i),localStorage.setItem("sex",a.target.getAttribute("id")),c.forEach((e=>{e.classList.remove(i)})),a.target.classList.add(i),l(e,t,r))}))}i("#gender div","calculating__choose-item_active"),i(".calculating__choose_big div","calculating__choose-item_active"),l(e,t,r),c("#gender","calculating__choose-item_active"),c(".calculating__choose_big","calculating__choose-item_active"),document.querySelector(".calculating__choose_medium").querySelectorAll(".calculating__choose-item").forEach((n=>{n.addEventListener("input",(n=>{n.target.value.match(/\D/g)?(n.target.style.border="1px solid red",a.innerText="___"):n.target.style.border="none","height"===n.target.getAttribute("id")?e=n.target.value:"weight"===n.target.getAttribute("id")?t=n.target.value:"age"===n.target.getAttribute("id")&&(r=n.target.value),l(e,t,r)}))}))})(),function(){const e=document.querySelector(".menu").querySelector(".container");class t{constructor(e,t,r,n,o){this.imgSource=e,this.alt=t,this.title=r,this.description=n,this.price=o}renderCard(){const t=document.createElement("div");t.innerHTML=` \n                            <div class="menu__item">\n                                <img src=${this.imgSource} alt=${this.alt}>\n                                <h3 class="menu__item-subtitle">${this.title}</h3>\n                                <div class="menu__item-descr">${this.description}</div>\n                                <div class="menu__item-divider"></div>\n                                <div class="menu__item-price">\n                                    <div class="menu__item-cost">Цена:</div>\n                                    <div class="menu__item-total"><span>${this.price}</span> грн/день</div>\n                                </div>\n                            </div>\n                            `,e.append(t)}}[{img:"img/tabs/vegy.jpg",altimg:"vegy",title:"Меню 'Фитнес'",descr:"Меню 'Фитнес' - это новый подход к приготовлению блюд: больше свежих овощей и фруктов. Продукт активных и здоровых людей. Это абсолютно новый продукт с оптимальной ценой и высоким качеством!",price:9},{img:"img/tabs/post.jpg",altimg:"post",title:"Меню 'Постное'",descr:"Меню 'Постное' - это тщательный подбор ингредиентов: полное отсутствие продуктов животного происхождения, молоко из миндаля, овса, кокоса или гречки, правильное количество белков за счет тофу и импортных вегетарианских стейков.",price:14},{img:"img/tabs/elite.jpg",altimg:"elite",title:"Меню 'Премиум'",descr:"В меню 'Премиум' мы используем не только красивый дизайн упаковки, но и качественное исполнение блюд. Красная рыба, морепродукты, фрукты - ресторанное меню без похода в ресторан!",price:21}].forEach((({img:e,altimg:r,title:n,descr:o,price:a})=>{new t(e,r,n,o,a).renderCard()}))}(),function(t,r){document.querySelectorAll(t).forEach((t=>{!function(t){function o(t){const n=document.querySelector(".modal__dialog"),o=document.querySelector(r);n.classList.add("hidden");const a=document.createElement("div");a.classList.add("modal__dialog"),a.innerHTML=`\n                                        <div class='modal__content'>\n                                            <div class='modal__close' data-modal-close>×</div>\n                                            <div class='modal__title'>${t}</div>\n                                        </div>\n                                    `,document.querySelector(".modal").append(a);const i=setTimeout((()=>{a.remove(),n.classList.remove("hidden"),e(".modal")}),4e3);o.addEventListener("click",(t=>{t.target!==o&&""!=t.target.getAttribute("data-modal-close")||(a.remove(),n.classList.remove("hidden"),e(".modal"),clearTimeout(i))}))}t.addEventListener("submit",(e=>{e.preventDefault();const r=document.createElement("img");r.src=n.loading,r.style.cssText="margin: 0 auto; display: block;",r.textContent=n.loading,t.insertAdjacentElement("afterend",r);const a=new FormData(t);(async(e,t)=>{const r=await fetch("http://localhost:3000/requests",{method:"POST",headers:{"Content-type":"application/json"},body:t});return await r.json()})(0,JSON.stringify(Object.fromEntries(a.entries()))).then((e=>{console.log(e),o(n.sucsess)})).catch((e=>{console.log(e),o(n.failure)})).finally((()=>{t.reset(),r.remove()}))}))}(t)}));const n={loading:"img/form/spinner.svg",sucsess:"Спасибо мы с вами свяжемся",failure:"Что-то пошло не так"}}("form",".modal"),function(r,n,o){const a=document.querySelector(n);document.querySelectorAll(r).forEach((e=>{e.addEventListener("click",(()=>{t(n,o),clearTimeout(o)}))})),a.addEventListener("click",(t=>{t.target!==a&&""!=t.target.getAttribute("data-modal-close")||e(n)})),document.addEventListener("keydown",(t=>{"Escape"===t.code&&a.classList.contains("show")&&e(n)})),window.addEventListener("scroll",(function e(){window.scrollY+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&(t(n,o),removeEventListener("scroll",e))}))}("[data-modal-trigger]",".modal",r),function({container:e,slide:t,nextArrow:r,prevArrow:n,totalCounter:o,currentCounter:a,wrapper:i,field:l}){let c=0,s=1;const d=document.querySelectorAll(t),u=document.querySelector(e),m=u.querySelector(a),g=u.querySelector(o),h=u.querySelector(n),f=u.querySelector(r),_=document.querySelector(i),v=document.querySelector(l),y=window.getComputedStyle(v).width;function p(e){s+=e,s<1?s=d.length:s>d.length&&(s=1),s<10?m.innerText=`0${s}`:s>=10&&(m.innerText=s)}_.style.width=100*d.length+"%",_.style.display="flex",_.style.transition="0.5s all",v.style.overflow="hidden",d.forEach((e=>{e.style.width=y})),m.textContent=`0${s}`,d.length<10?g.textContent=`0${d.length}`:g.textContent=d.length,f.addEventListener("click",(()=>{c==+y.replace(/\D/g,"")*(d.length-1)?c=0:c+=+y.replace(/\D/g,""),_.style.transform=`translateX(-${c}px)`,p(1),E(L)})),h.addEventListener("click",(()=>{0==c?c=+y.replace(/\D/g,"")*(d.length-1):c-=+y.replace(/\D/g,""),_.style.transform=`translateX(-${c}px)`,p(-1),E(L)})),v.style.position="relative";const S=document.createElement("ul"),L=[];S.classList.add("carousel-indicators");for(let e=0;e<d.length;e++){const t=document.createElement("ul");t.classList.add("dot"),t.setAttribute("slideNumber",e+1),L.push(t),S.append(t)}function E(e){e.forEach((e=>{e.style.opacity="0.5"})),e[s-1].style.opacity="1"}v.append(S),E(L),L.forEach((e=>{e.addEventListener("click",(t=>{const r=e.getAttribute("slideNumber");s=r,c=+y.replace(/\D/g,"")*(r-1),_.style.transform=`translateX(-${c}px)`,E(L),s<10?m.innerText=`0${s}`:s>=10&&(m.innerText=s)}))}))}({container:".offer__slider",slide:".offer__slide",nextArrow:".offer__slider-next",prevArrow:".offer__slider-prev",totalCounter:"#total",currentCounter:"#current",wrapper:".offer__slider-inner",field:".offer__slider-wrapper"}),function(e,t,r,n){const o=document.querySelectorAll(e),a=document.querySelectorAll(t),i=document.querySelector(r);function l(){a.forEach((e=>{e.classList.add("hidden")}))}function c(e=0){a[e].classList.remove("hidden")}l(),c(),i.addEventListener("click",(t=>{t.target.className==e.slice(1)&&(o.forEach((e=>{e.classList.remove(n),l()})),t.target.classList.add(n)),o.forEach(((e,t)=>{e.classList.contains(n)&&c(t)}))}))}(".tabheader__item",".tabcontent",".tabheader__items","tabheader__item_active"),function(e,t){let r=document.querySelector(e),n=r.querySelector("#days"),o=r.querySelector("#hours"),a=r.querySelector("#minutes"),i=r.querySelector("#seconds"),l=setInterval((function(){let e=function(e){const t=function(e){const[t,r,n]=e.split("-").map(Number);return console.log(new Date(t,r-1,n)),new Date(t,r-1,n)}(e).getTime()-(new Date).getTime();return{day:Math.floor(t/864e5),hours:Math.floor(t/36e5%24),minute:Math.floor(t/6e4%60),second:Math.floor(t/1e3%60),leftTimeParse:t}}(t);n.innerHTML=e.day,o.innerHTML=e.hours,a.innerHTML=e.minute,i.innerHTML=e.second,e.leftTimeParse<=0&&clearInterval(l)}),1e3)}(".timer","2023-11-9")}))})();
//# sourceMappingURL=bundle.js.map